1. Рассказываем про базы данных
2. показать приложение sqlitestudio, скачать базу данных, показыв таблицы
3. Показываем работу с sql, делаем запросы в базу данных
4. Дать задание по sql, типо взять из базы данных отсортированные значения по ключу
5. Дать челику основные функции для написание форм базы данных, дБ сессия и Ол моделс, все остальное челик доделывает сам
6. Получение, добавление и удаление данных из базы с помощью функций на питоне


## Лабораторная работа "Обучение основам работы с базами данных"

# Введение в базы данных. Теоритеческая часть.

![image](https://github.com/Anastasia567874/lab_bd/assets/144477949/aec7a169-3b9c-465c-b58c-12fb77190512)

База данных — это упорядоченный набор структурированной информации или данных, которые обычно хранятся в электронном виде в компьютерной системе. 
База данных обычно управляется системой управления базами данных (СУБД). 
Данные вместе с СУБД, а также приложения, которые с ними связаны, называются системой баз данных, или, для краткости, просто базой данных.

Базы данных используются для решения множества задач. Например, они могут использоваться для хранения информации о клиентах и заказах в компании, для анализа больших объемов данных, для поддержки электронной коммерции, а также для управления информацией о научных исследованиях.

Существует несколько типов БД, включая реляционные, иерархические, сетевые и объектно-ориентированные. Реляционные БД являются наиболее распространенным типом и основываются на принципе таблиц, состоящих из строк и столбцов. 
Каждая таблица представляет отдельную сущность, а столбцы представляют атрибуты этой сущности. Связи между таблицами устанавливаются с помощью ключей, которые позволяют объединять данные из разных таблиц.

Центральным понятием в БД является язык структурированных запросов (SQL), который позволяет выполнять различные операции с данными, такие как выборка, вставка, обновление и удаление. SQL является стандартным языком взаимодействия с реляционными БД. 

# Sqlitestudio и sql-запросы

Теперь рассмотрим пример базы данных с несколькими таблицами. Для этого скачайте приложение Sqlitestudio, а также файл bookstore.db из данного репозитория. 
1. Откройте приложение и добавьте туда скачанную базу данных. 
![image](https://github.com/Anastasia567874/lab_bd/assets/144477949/593c32d7-a46c-4769-b5e7-0f9852b609b7)

2. Нажав на иконку БД, можно увидеть 3 таблицы - books, genres, users. Открыв каждую из них можно будет увидеть их содержимое в разделе Data:
   ![image](https://github.com/Anastasia567874/lab_bd/assets/144477949/265b872f-7979-4fa5-a77f-b2b1cba2f7ff)
   
4. Теперь попробуем сделать пару sql-запросов с целью найти нужные данные в таблицах. Для начала откройте поле для запросов.
   ![image](https://github.com/Anastasia567874/lab_bd/assets/144477949/1775aa04-67fd-4e29-8ce6-1b126a51c1df)

Общая структура запроса выглядит так: 
```
SELECT (столбцы или * для всех сразу) FROM (номер таблицы)
```
Также запрос может содержать необязательные параметры:
- WHERE (условие)
- GROUP BY (столбец, по которому группируем)
- HAVING (условие на уровне сгруппированных данных)
- ORDER BY (столбец, по которому сортируем вывод)

Примеры:
SELECT * FROM books - выводит все данные из таблицы books

![image](https://github.com/Anastasia567874/lab_bd/assets/144477949/0e9dd0bd-344c-49be-9ddc-f0bea284a6d4)


SELECT title, author FROM books WHERE age_limit < 18 - выводит название и автора книг, где возрастной лимит меньше 18

![image](https://github.com/Anastasia567874/lab_bd/assets/144477949/25492aa1-23dc-4774-8cd7-ea4db69a3c8e)

JOIN — необязательный элемент, используется для объединения таблиц по ключу, который присутствует в обеих таблицах. Перед ключом ставится оператор ON.
```
SELECT books.title, genres.title 
FROM books
JOIN genres ON books.id = genres.id;
```

![image](https://github.com/Anastasia567874/lab_bd/assets/144477949/5fe8365e-1007-4627-8119-1380f7ca0d75)

Теперь попробуй самостоятельно вывести:
1) Все книги с жанром "Роман".
2) Название и автора книг, где имя автора начинается с буквы "А" и возрастное ограничение меньше 18, отсортировав по названию.


# Создание собственной БД

Итак, мы уже имеем небольшое представление о том, как и для чего используются базы данных. Мы даже умееем делать некоторые простые sql-запросы с целью получения каких-либо данных. В этой же части мы научимся создавать простую базу данных с помощью Python. Для этого мы будет использовать orm-библиотеку SQLAlchemy. Её надо скачать.

1. Сначала нам надо создать форму для создания и подключения к базе данных. 
![image](https://github.com/Anastasia567874/lab_bd/assets/144477949/a5f7dd61-fecd-4155-bc46-92ba2f073b02)

Разберем основные моменты:
Создадим функцию, которая будет использоваться для подключения. Для начала нужно создать движок, который создается один раз и хранит в себе все подключения к серверу БД:
```
engine = sa.create_engine(conn_str, echo=True)
```
В качестве параметра мы передаем строку подключения, для разных систем БД строка выглдит по разному. 

Для взаимодействия необходимо создать сессию базы данных. Для этого используем метод-фабрику sessionmaker (параметр bind привязывает сессию к движку нашей БД).
```
__factory = orm.sessionmaker(bind=engine)
```

После можем импортировать все наши модели и по метаданным моделей создадутся все наши таблицы и БД:
```
from . import __all_models
SqlAlchemyBase.metadata.create_all(engine)
```

Также необходимо создать базовую модель, от которой впоследствии мы будем наследоваться при создании других.
```
SqlAlchemyBase = dec.declarative_base()
```

Теперь приступим к созданию форм.








   




